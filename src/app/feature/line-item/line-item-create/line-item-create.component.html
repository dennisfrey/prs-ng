<app-menu></app-menu>
<span class="page-title font-weight-bold font-italic">[{{title}}] - PR ID: {{requestId}}</span>
<span>&nbsp;<a routerLink="/request/lines/{{requestId}}">Return to List</a></span>
<span style="float: right; padding-right: 30px; font-style:italic; font-weight: bold">Hello,
    {{loggedInUser.firstName}}</span>
<p *ngIf='!lineItem'>Loading...</p>
<div *ngIf='lineItem'>
    <main class="single">
        <table class="table table-sm">
            <tr>
                <td>
                    Product:
                </td>
                <td>
                    <select [(ngModel)]="lineItem.product" class="rounded">
                        <option *ngFor="let product of products" [ngValue]='product'>{{product.name}} |
                            {{product.vendor.name}}</option>
                    </select>
                    <span *ngIf='!lineItem.product' style="color:red">*</span>
                </td>
            </tr>
            <tr>
                <td>
                    Quantity:
                </td>
                <td>
                    <input [(ngModel)]="lineItem.quantity" class="rounded" type="number">
                </td>
            </tr>
        </table>
    </main>
    <span *ngIf='!lineItem.product || lineItem.quantity == 0; else enabled'>
        <button (click)="save()" disabled class="btn btn-sm btn-primary">{{submitBtnTitle}}</button>
    </span>
    <ng-template #enabled>
        <span>
            <button (click)="save()" class="btn btn-sm btn-primary">{{submitBtnTitle}}</button>
        </span>
    </ng-template>
</div>